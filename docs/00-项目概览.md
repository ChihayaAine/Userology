# Userology 项目概览

> **版本**: 1.4.5
> **最后更新**: 2025-10-31

---

## 📖 项目简介

Userology 是一个基于 AI 的用户研究访谈平台，旨在帮助研究人员高效地进行用户访谈、收集反馈并生成洞察报告。

### 核心价值

- **AI 驱动的访谈**: 使用 AI 面试官进行自然对话式访谈
- **多语言支持**: 支持多种语言的访谈和本地化
- **智能分析**: 自动生成访谈分析和洞察报告
- **灵活配置**: 支持多种访谈模式和自定义配置

---

## 🎯 核心功能

### 1. 访谈管理

- **创建访谈**: 支持两种模式
  - **Explorer Lisa / Empathetic Bob**: 基于问题列表的访谈
  - **Deep Dive David**: 基于 session 的深度访谈（推荐）
- **访谈配置**:
  - 访谈目标和描述
  - Session 数量和时长
  - 匿名选项
  - 面试官选择

### 2. 两步大纲生成系统 ⭐ **v1.4.0 重大更新**

**核心流程**:

1. **生成骨架**: AI 生成 Session 框架（主题、目标、背景信息、深度等级）
2. **用户编辑**: 用户可编辑骨架，添加必问问题，调整深度等级
3. **生成完整大纲**: 基于审核后的骨架生成具体问题（4-6 个问题 + 多层次追问）

**核心功能**:
- ✅ **Session 配置传导**: 用户可预设 Session 主题
- ✅ **必问问题功能**: 添加用户指定的必问问题
- ✅ **Session Depth Level**: 控制 Session 深度（high/medium/low）
- ✅ **多层次追问策略**: L1→L2→L3 深度追问
- ✅ **AI 和用户协作**: 生成结果可控、可预测

详见: [大纲生成系统文档](./03-大纲生成系统.md)

### 3. Session Depth Level 系统 🎯 **v1.4.2 新功能**

**三个深度等级**:

| 等级 | 问题数量 | 追问深度 | 适用场景 |
|------|---------|---------|---------|
| **High** | 5-6 个 | 3-4 层 | 核心目标、痛点分析、竞品研究 |
| **Medium** | 4-5 个 | 2-3 层 | 上下文构建、行为探索 |
| **Low** | 2-4 个 | 1-2 层 | 暖场、收尾 |

**用户体验**:
- AI 自动建议 depth_level
- 用户可手动调整
- 影响问题数量、追问深度、时间分配

详见: [Session Depth Level 完整实现总结](./Session-Depth-Level-完整实现总结.md)

### 4. 大纲本地化功能

**两步创建流程**:

1. **初稿生成**: 使用"调试语言"（研究者熟悉的语言）生成访谈大纲
2. **一键本地化**: 将大纲本地化到目标访谈语言

**特点**:
- 深度本土化（文化适配，非简单翻译）
- 支持初稿和本地化版本切换
- 可选择访谈时使用的版本

详见: [大纲本地化功能文档](./04-大纲本地化功能.md)

### 5. 访谈执行

- **实时语音对话**: 基于 Retell AI 的语音交互
- **动态追问**: AI 根据回答进行智能追问
- **Depth Level 感知**: 根据 Session 深度等级调整时间分配
- **多语言支持**: 支持多种语言的访谈

### 6. 数据分析

- **自动转录**: 访谈内容自动转录
- **智能分析**: 使用 GPT-4 生成洞察报告
- **关键引用**: 提取重要引用和洞察

---

## 🏗️ 系统架构

### 技术栈

- **前端**: Next.js 14, React, TypeScript, Tailwind CSS
- **后端**: Express.js, Node.js, TypeScript
- **数据库**: Supabase (PostgreSQL)
- **AI 服务**: 
  - OpenAI GPT-4o (访谈分析、大纲生成)
  - Retell AI (语音交互)
- **认证**: Clerk

详见: [技术架构文档](./01-技术架构.md)

### 系统组件

```
┌─────────────────────────────────────────────────────────┐
│                      前端 (Next.js)                      │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │ 访谈创建界面 │  │ 访谈执行界面 │  │ 数据分析界面 │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
└─────────────────────────────────────────────────────────┘
                           │
                           ↓
┌─────────────────────────────────────────────────────────┐
│                    后端 API (Express)                    │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │ 访谈管理 API │  │ 大纲生成 API │  │ 分析 API     │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  │
└─────────────────────────────────────────────────────────┘
                           │
        ┌──────────────────┼──────────────────┐
        ↓                  ↓                  ↓
┌──────────────┐  ┌──────────────┐  ┌──────────────┐
│   Supabase   │  │  OpenAI API  │  │  Retell AI   │
│  (数据库)    │  │  (AI 分析)   │  │  (语音交互)  │
└──────────────┘  └──────────────┘  └──────────────┘
```

---

## 📊 数据模型

### 核心表

- **interview**: 访谈配置和元数据
- **interviewer**: 面试官配置
- **response**: 访谈响应记录
- **client**: 客户/组织信息

详见: [数据库设计文档](./02-数据库设计.md)

---

## 🚀 部署架构

### 开发环境

- **前端**: http://localhost:8089
- **后端**: http://localhost:8090

### 生产环境

- **域名**: https://userology.xin
- **前端**: Vercel 部署
- **后端**: 云服务器部署
- **数据库**: Supabase 云服务

---

## 📝 开发流程

### 任务管理

1. 在 `docs/任务清单.md` 中维护任务
2. 完成后更新 `CHANGELOG.md`
3. 重要变更更新 `Augment-Memories.md`

### 代码规范

- TypeScript 严格模式
- ESLint + Prettier 代码格式化
- 组件化开发
- API 统一错误处理

### 测试

- 单元测试（待完善）
- 集成测试（待完善）
- 手动测试验证

---

## 🔗 相关链接

- **GitHub**: [项目仓库](https://github.com/ShengzheXu524/Userology-Foloup)
- **Supabase**: 数据库管理
- **Vercel**: 前端部署
- **OpenAI**: AI 服务
- **Retell**: 语音服务

---

## 📚 文档索引

- [技术架构](./01-技术架构.md)
- [数据库设计](./02-数据库设计.md)
- [大纲本地化功能](./03-大纲本地化功能.md)
- [CHANGELOG](./CHANGELOG.md)
- [Augment Memories](./Augment-Memories.md)

---

**维护者**: Userology 开发团队
**最后更新**: 2025-10-31

